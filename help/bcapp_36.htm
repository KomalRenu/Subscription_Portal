<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><meta name="GENERATOR" content="Quadralay WebWorks Publisher Professional Edition 6.0.5"><meta name="TEMPLATEBASE" content="MSTR HTML Help Template 2.0"><meta name="LASTUPDATED" content="02/27/02 11:40:36"><link rel="StyleSheet" href="standard.css" type="text/css" media="screen"><title>How it works</title></head><body>Copyright © 1996-2010 MicroStrategy, Incorporated. All rights reserved. Confidential.<br><hr align="left" width="620" size="1"><h2 class="NewHTMLPage">  <a name="1070940"> </a>How it works</h2><ol type="1">  <li class="SmartList1" value="1">When a user subscribes to this service through Subscription Portal, Subscription Portal determines that there is an additional question object defined for this service. Subscription Portal retrieves the definition of the value prompt from MicroStrategy Intelligence Server and shows that prompt to the user (the threshold prompt).  <li class="SmartList1" value="2">The user answers the prompt by entering a numeric value.  <li class="SmartList1" value="3">Subscription Portal inserts a single record into the SUB_THRESHOLD table in the warehouse, as specified by the Portal Administrator Wizard additional question mapping. This record includes the Narrowcast Server User ID, the Subscription Portal-generated Subscription ID, and the numeric value the user entered.  <li class="SmartList1" value="4">Subscription Portal creates an entry in the Subscription Book Repository for the new subscription. The definition of this subscription contains a preference object that is associated with Example 5 Page-by Information Object. The value of the preference object is the Subscription ID, since that is what was specified as the page-by answer for this question on the Portal Administrator Wizard Services Configuration page. Subscription Portal also stores the user's answer to the prompt in the Subscription Book Repository, as a preference object that is associated with the Example 5 Additional Question Object.  <li class="SmartList1" value="5">Subscription Portal inserts a single record into the WH_SUBSCRIPTIONS2 table in the warehouse, as specified by the Portal Administrator Wizard dynamic subscription set mapping. This record includes the Subscription Portal-generated Subscription ID, the ID of the address the user selected for this subscription, and the Narrowcast Server User ID.  <li class="SmartList1" value="6">When Narrowcast Server runs the service, it first retrieves a list of subscriptions to this service from the warehouse by executing <strong>Example 5 Subscription IO and Content IO</strong>. For each subscription, Narrowcast Server retrieves the value of the preference object that corresponds to <strong>Example 5 Page-by Information Object</strong>, in this case from the Subscription ID column of the subscription information object, as specified in the definition of <strong>Example 5 Subscription IO and Content IO</strong>. The results of the subscription information object also contain data for all of the subscriptions that were written to the WH_SUBSCRIPTIONS2 table. Narrowcast Server uses the value of the preference object for each subscription, which in this case is the Subscription ID, as the page-by value to personalize the content of the information object. Each page of data includes only those stocks that meet the condition determined by the subscription's threshold value. Finally, Narrowcast Server uses the Address ID from the subscription information object to look up the delivery address for each subscription in the Subscription Book Repository, as specified in the definition of <strong>Example 5 Subscription IO and Content IO</strong>.</ol>  </body></html>